
Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  NotFoundError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime
} = require('@prisma/client/runtime/library.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 5.22.0
 * Query Engine version: 605197351a3c8bdd595af2d2a9bc3025bca48ea2
 */
Prisma.prismaVersion = {
  client: "5.22.0",
  engine: "605197351a3c8bdd595af2d2a9bc3025bca48ea2"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.NotFoundError = NotFoundError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}




  const path = require('path')

/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  cognitoSub: 'cognitoSub',
  state: 'state',
  pushToken: 'pushToken',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.UserOnboardingAnswersScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  preferredName: 'preferredName',
  ageBand: 'ageBand',
  countryOrRegion: 'countryOrRegion',
  occupationCategory: 'occupationCategory',
  clientTimezone: 'clientTimezone',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.UserControlsScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  proactiveMessagesEnabled: 'proactiveMessagesEnabled',
  muteUntil: 'muteUntil',
  suppressedTopics: 'suppressedTopics',
  suppressedMemoryKeys: 'suppressedMemoryKeys',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AiFriendScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  personaTemplateId: 'personaTemplateId',
  personaSeed: 'personaSeed',
  stableStyleParams: 'stableStyleParams',
  tabooSoftBounds: 'tabooSoftBounds',
  assignedAt: 'assignedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PersonaTemplateScalarFieldEnum = {
  id: 'id',
  coreArchetype: 'coreArchetype',
  speechStyle: 'speechStyle',
  lexiconBias: 'lexiconBias',
  humorMode: 'humorMode',
  emotionalExpressionLevel: 'emotionalExpressionLevel',
  tabooSoftBounds: 'tabooSoftBounds',
  friendEnergy: 'friendEnergy'
};

exports.Prisma.ConversationScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  aiFriendId: 'aiFriendId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MessageScalarFieldEnum = {
  id: 'id',
  conversationId: 'conversationId',
  userId: 'userId',
  aiFriendId: 'aiFriendId',
  role: 'role',
  content: 'content',
  contentNorm: 'contentNorm',
  status: 'status',
  source: 'source',
  surfacedMemoryIds: 'surfacedMemoryIds',
  extractedMemoryCandidateIds: 'extractedMemoryCandidateIds',
  openerNorm: 'openerNorm',
  traceId: 'traceId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MemoryScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  aiFriendId: 'aiFriendId',
  type: 'type',
  memoryKey: 'memoryKey',
  memoryValue: 'memoryValue',
  confidence: 'confidence',
  status: 'status',
  supersededBy: 'supersededBy',
  invalidReason: 'invalidReason',
  sourceMessageIds: 'sourceMessageIds',
  embeddingJobId: 'embeddingJobId',
  qdrantPointId: 'qdrantPointId',
  createdAt: 'createdAt',
  lastConfirmedAt: 'lastConfirmedAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.RelationshipScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  aiFriendId: 'aiFriendId',
  relationshipStage: 'relationshipStage',
  rapportScore: 'rapportScore',
  lastInteractionAt: 'lastInteractionAt',
  lastStagePromotionAt: 'lastStagePromotionAt',
  sessionsCount: 'sessionsCount',
  lastSessionAt: 'lastSessionAt',
  currentSessionShortReplyCount: 'currentSessionShortReplyCount',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.RetentionAttemptScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  aiFriendId: 'aiFriendId',
  messageId: 'messageId',
  notificationId: 'notificationId',
  status: 'status',
  skipReason: 'skipReason',
  deliveredAt: 'deliveredAt',
  acknowledgedAt: 'acknowledgedAt',
  acknowledgedBy: 'acknowledgedBy',
  openerNorm: 'openerNorm',
  contentSelectionType: 'contentSelectionType',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.RetentionBackoffScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  aiFriendId: 'aiFriendId',
  backoffMultiplier: 'backoffMultiplier',
  lastIgnoredAt: 'lastIgnoredAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AppOpenEventScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  openedNotificationId: 'openedNotificationId',
  openedAt: 'openedAt',
  attributedRetentionId: 'attributedRetentionId',
  createdAt: 'createdAt'
};

exports.Prisma.DecisionTraceScalarFieldEnum = {
  id: 'id',
  traceId: 'traceId',
  messageId: 'messageId',
  userId: 'userId',
  routingDecision: 'routingDecision',
  topicMatches: 'topicMatches',
  heuristicFlags: 'heuristicFlags',
  memoriesLoadedCount: 'memoriesLoadedCount',
  memoriesExtractedCount: 'memoriesExtractedCount',
  relationshipDelta: 'relationshipDelta',
  postprocessorViolations: 'postprocessorViolations',
  rewriteAttempts: 'rewriteAttempts',
  createdAt: 'createdAt'
};

exports.Prisma.PersonaAssignmentLogScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  aiFriendId: 'aiFriendId',
  comboKey: 'comboKey',
  assignedAt: 'assignedAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.JsonNullValueInput = {
  JsonNull: Prisma.JsonNull
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};
exports.UserState = exports.$Enums.UserState = {
  CREATED: 'CREATED',
  ONBOARDING: 'ONBOARDING',
  ACTIVE: 'ACTIVE'
};

exports.AgeBand = exports.$Enums.AgeBand = {
  AGE_13_17: 'AGE_13_17',
  AGE_18_24: 'AGE_18_24',
  AGE_25_34: 'AGE_25_34',
  AGE_35_44: 'AGE_35_44',
  AGE_45_PLUS: 'AGE_45_PLUS'
};

exports.OccupationCategory = exports.$Enums.OccupationCategory = {
  student: 'student',
  working: 'working',
  between_jobs: 'between_jobs',
  other: 'other'
};

exports.MessageRole = exports.$Enums.MessageRole = {
  user: 'user',
  assistant: 'assistant'
};

exports.MessageStatus = exports.$Enums.MessageStatus = {
  RECEIVED: 'RECEIVED',
  PROCESSING: 'PROCESSING',
  COMPLETED: 'COMPLETED'
};

exports.MessageSource = exports.$Enums.MessageSource = {
  chat: 'chat',
  retention: 'retention'
};

exports.MemoryType = exports.$Enums.MemoryType = {
  FACT: 'FACT',
  PREFERENCE: 'PREFERENCE',
  RELATIONSHIP_EVENT: 'RELATIONSHIP_EVENT',
  EMOTIONAL_PATTERN: 'EMOTIONAL_PATTERN'
};

exports.MemoryStatus = exports.$Enums.MemoryStatus = {
  ACTIVE: 'ACTIVE',
  SUPERSEDED: 'SUPERSEDED',
  INVALID: 'INVALID'
};

exports.RelationshipStage = exports.$Enums.RelationshipStage = {
  STRANGER: 'STRANGER',
  ACQUAINTANCE: 'ACQUAINTANCE',
  FRIEND: 'FRIEND',
  CLOSE_FRIEND: 'CLOSE_FRIEND'
};

exports.RetentionStatus = exports.$Enums.RetentionStatus = {
  SCHEDULED: 'SCHEDULED',
  DELIVERED: 'DELIVERED',
  ACKNOWLEDGED: 'ACKNOWLEDGED',
  IGNORED: 'IGNORED',
  SKIPPED: 'SKIPPED'
};

exports.AcknowledgmentType = exports.$Enums.AcknowledgmentType = {
  REPLY: 'REPLY',
  APP_OPEN_NOTIFICATION: 'APP_OPEN_NOTIFICATION',
  APP_OPEN_INFERRED: 'APP_OPEN_INFERRED'
};

exports.ContentSelectionType = exports.$Enums.ContentSelectionType = {
  FOLLOW_UP: 'FOLLOW_UP',
  LIGHT_CONTEXT_NUDGE: 'LIGHT_CONTEXT_NUDGE',
  GENERIC_SAFE: 'GENERIC_SAFE'
};

exports.Prisma.ModelName = {
  User: 'User',
  UserOnboardingAnswers: 'UserOnboardingAnswers',
  UserControls: 'UserControls',
  AiFriend: 'AiFriend',
  PersonaTemplate: 'PersonaTemplate',
  Conversation: 'Conversation',
  Message: 'Message',
  Memory: 'Memory',
  Relationship: 'Relationship',
  RetentionAttempt: 'RetentionAttempt',
  RetentionBackoff: 'RetentionBackoff',
  AppOpenEvent: 'AppOpenEvent',
  DecisionTrace: 'DecisionTrace',
  PersonaAssignmentLog: 'PersonaAssignmentLog'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "C:\\Users\\moshl\\Projects\\chingoo\\node_modules\\.pnpm\\@prisma+client@5.22.0_prisma@5.22.0\\node_modules\\@prisma\\client",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "windows",
        "native": true
      }
    ],
    "previewFeatures": [],
    "sourceFilePath": "C:\\Users\\moshl\\Projects\\chingoo\\packages\\shared\\prisma\\schema.prisma"
  },
  "relativeEnvPaths": {
    "rootEnvPath": null
  },
  "relativePath": "../../../../../../packages/shared/prisma",
  "clientVersion": "5.22.0",
  "engineVersion": "605197351a3c8bdd595af2d2a9bc3025bca48ea2",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "postgresql",
  "postinstall": false,
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "// schema.prisma\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\n// ─────────────────────────────────────────────────────────────\n// ENUMS\n// ─────────────────────────────────────────────────────────────\n\nenum UserState {\n  CREATED\n  ONBOARDING\n  ACTIVE\n}\n\nenum AgeBand {\n  AGE_13_17   @map(\"13-17\")\n  AGE_18_24   @map(\"18-24\")\n  AGE_25_34   @map(\"25-34\")\n  AGE_35_44   @map(\"35-44\")\n  AGE_45_PLUS @map(\"45+\")\n}\n\nenum OccupationCategory {\n  student\n  working\n  between_jobs\n  other\n}\n\nenum MessageRole {\n  user\n  assistant\n}\n\nenum MessageStatus {\n  RECEIVED\n  PROCESSING\n  COMPLETED\n}\n\nenum MessageSource {\n  chat\n  retention\n}\n\nenum MemoryType {\n  FACT\n  PREFERENCE\n  RELATIONSHIP_EVENT\n  EMOTIONAL_PATTERN\n}\n\nenum MemoryStatus {\n  ACTIVE\n  SUPERSEDED\n  INVALID\n}\n\nenum RelationshipStage {\n  STRANGER\n  ACQUAINTANCE\n  FRIEND\n  CLOSE_FRIEND\n}\n\nenum RetentionStatus {\n  SCHEDULED\n  DELIVERED\n  ACKNOWLEDGED\n  IGNORED\n  SKIPPED\n}\n\nenum AcknowledgmentType {\n  REPLY\n  APP_OPEN_NOTIFICATION\n  APP_OPEN_INFERRED\n}\n\nenum ContentSelectionType {\n  FOLLOW_UP\n  LIGHT_CONTEXT_NUDGE\n  GENERIC_SAFE\n}\n\n// ─────────────────────────────────────────────────────────────\n// MODELS\n// ─────────────────────────────────────────────────────────────\n\nmodel User {\n  id         String    @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  cognitoSub String    @unique @map(\"cognito_sub\") @db.VarChar(128)\n  state      UserState @default(CREATED)\n  pushToken  String?   @map(\"push_token\") @db.VarChar(256)\n  createdAt  DateTime  @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt  DateTime  @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  onboardingAnswers     UserOnboardingAnswers?\n  controls              UserControls?\n  aiFriends             AiFriend[]\n  conversations         Conversation[]\n  messages              Message[]\n  memories              Memory[]\n  relationships         Relationship[]\n  retentionAttempts     RetentionAttempt[]\n  retentionBackoff      RetentionBackoff[]\n  appOpenEvents         AppOpenEvent[]\n  decisionTraces        DecisionTrace[]\n  personaAssignmentLogs PersonaAssignmentLog[]\n\n  @@map(\"users\")\n}\n\nmodel UserOnboardingAnswers {\n  id                 String             @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId             String             @unique @map(\"user_id\") @db.Uuid\n  preferredName      String             @map(\"preferred_name\") @db.VarChar(64)\n  ageBand            AgeBand            @map(\"age_band\")\n  countryOrRegion    String             @map(\"country_or_region\") @db.VarChar(8)\n  occupationCategory OccupationCategory @map(\"occupation_category\")\n  clientTimezone     String             @map(\"client_timezone\") @db.VarChar(64)\n  createdAt          DateTime           @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt          DateTime           @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@map(\"user_onboarding_answers\")\n}\n\nmodel UserControls {\n  id                       String    @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId                   String    @unique @map(\"user_id\") @db.Uuid\n  proactiveMessagesEnabled Boolean   @default(true) @map(\"proactive_messages_enabled\")\n  muteUntil                DateTime? @map(\"mute_until\") @db.Timestamptz\n  suppressedTopics         Json      @default(\"[]\") @map(\"suppressed_topics\") @db.JsonB\n  suppressedMemoryKeys     Json      @default(\"[]\") @map(\"suppressed_memory_keys\") @db.JsonB\n  createdAt                DateTime  @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt                DateTime  @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@map(\"user_controls\")\n}\n\nmodel AiFriend {\n  id                String    @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId            String    @unique @map(\"user_id\") @db.Uuid\n  personaTemplateId String?   @map(\"persona_template_id\") @db.VarChar(8)\n  personaSeed       Int?      @map(\"persona_seed\")\n  stableStyleParams Json?     @map(\"stable_style_params\") @db.JsonB\n  tabooSoftBounds   Json      @default(\"[]\") @map(\"taboo_soft_bounds\") @db.JsonB\n  assignedAt        DateTime? @map(\"assigned_at\") @db.Timestamptz\n  createdAt         DateTime  @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt         DateTime  @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user                  User                   @relation(fields: [userId], references: [id], onDelete: Cascade)\n  personaTemplate       PersonaTemplate?       @relation(fields: [personaTemplateId], references: [id])\n  conversations         Conversation[]\n  messages              Message[]\n  memories              Memory[]\n  relationships         Relationship[]\n  retentionAttempts     RetentionAttempt[]\n  retentionBackoff      RetentionBackoff[]\n  personaAssignmentLogs PersonaAssignmentLog[]\n\n  @@map(\"ai_friends\")\n}\n\nmodel PersonaTemplate {\n  id                       String @id @db.VarChar(8)\n  coreArchetype            String @map(\"core_archetype\") @db.VarChar(32)\n  speechStyle              Json   @map(\"speech_style\") @db.JsonB\n  lexiconBias              Json   @map(\"lexicon_bias\") @db.JsonB\n  humorMode                String @map(\"humor_mode\") @db.VarChar(16)\n  emotionalExpressionLevel String @map(\"emotional_expression_level\") @db.VarChar(16)\n  tabooSoftBounds          Json   @map(\"taboo_soft_bounds\") @db.JsonB\n  friendEnergy             String @map(\"friend_energy\") @db.VarChar(16)\n\n  aiFriends AiFriend[]\n\n  @@map(\"persona_templates\")\n}\n\nmodel Conversation {\n  id         String   @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId     String   @map(\"user_id\") @db.Uuid\n  aiFriendId String   @map(\"ai_friend_id\") @db.Uuid\n  createdAt  DateTime @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt  DateTime @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user     User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  aiFriend AiFriend  @relation(fields: [aiFriendId], references: [id], onDelete: Cascade)\n  messages Message[]\n\n  @@unique([userId, aiFriendId])\n  @@index([userId, aiFriendId])\n  @@map(\"conversations\")\n}\n\nmodel Message {\n  id                          String        @id @db.Uuid\n  conversationId              String        @map(\"conversation_id\") @db.Uuid\n  userId                      String        @map(\"user_id\") @db.Uuid\n  aiFriendId                  String        @map(\"ai_friend_id\") @db.Uuid\n  role                        MessageRole\n  content                     String        @db.Text\n  contentNorm                 String?       @map(\"content_norm\") @db.Text\n  status                      MessageStatus @default(RECEIVED)\n  source                      MessageSource @default(chat)\n  surfacedMemoryIds           Json          @default(\"[]\") @map(\"surfaced_memory_ids\") @db.JsonB\n  extractedMemoryCandidateIds Json          @default(\"[]\") @map(\"extracted_memory_candidate_ids\") @db.JsonB\n  openerNorm                  String?       @map(\"opener_norm\") @db.VarChar(256)\n  traceId                     String        @map(\"trace_id\") @db.Uuid\n  createdAt                   DateTime      @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt                   DateTime      @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  conversation      Conversation       @relation(fields: [conversationId], references: [id], onDelete: Cascade)\n  user              User               @relation(fields: [userId], references: [id], onDelete: Cascade)\n  aiFriend          AiFriend           @relation(fields: [aiFriendId], references: [id], onDelete: Cascade)\n  decisionTraces    DecisionTrace[]\n  retentionAttempts RetentionAttempt[]\n\n  @@index([conversationId, createdAt(sort: Desc)])\n  @@index([userId, createdAt(sort: Desc)])\n  @@index([status])\n  @@index([conversationId, role, createdAt(sort: Desc)])\n  @@index([surfacedMemoryIds], type: Gin) // GIN index for array containment queries\n  @@map(\"messages\")\n}\n\nmodel Memory {\n  id               String       @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId           String       @map(\"user_id\") @db.Uuid\n  aiFriendId       String       @map(\"ai_friend_id\") @db.Uuid\n  type             MemoryType\n  memoryKey        String       @map(\"memory_key\") @db.VarChar(128)\n  memoryValue      String       @map(\"memory_value\") @db.Text\n  confidence       Decimal      @db.Decimal(3, 2)\n  status           MemoryStatus @default(ACTIVE)\n  supersededBy     String?      @map(\"superseded_by\") @db.Uuid\n  invalidReason    String?      @map(\"invalid_reason\") @db.VarChar(64)\n  sourceMessageIds Json         @default(\"[]\") @map(\"source_message_ids\") @db.JsonB\n  embeddingJobId   String?      @map(\"embedding_job_id\") @db.Uuid\n  qdrantPointId    String?      @map(\"qdrant_point_id\") @db.Uuid\n  createdAt        DateTime     @default(now()) @map(\"created_at\") @db.Timestamptz\n  lastConfirmedAt  DateTime     @default(now()) @map(\"last_confirmed_at\") @db.Timestamptz\n  updatedAt        DateTime     @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user               User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  aiFriend           AiFriend @relation(fields: [aiFriendId], references: [id], onDelete: Cascade)\n  supersedingMemory  Memory?  @relation(\"MemorySupersession\", fields: [supersededBy], references: [id], onDelete: SetNull)\n  supersededMemories Memory[] @relation(\"MemorySupersession\")\n\n  @@index([userId, aiFriendId, status])\n  @@index([userId, aiFriendId, memoryKey, status])\n  @@index([userId, createdAt(sort: Desc)])\n  @@map(\"memories\")\n}\n\nmodel Relationship {\n  id                            String            @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId                        String            @map(\"user_id\") @db.Uuid\n  aiFriendId                    String            @map(\"ai_friend_id\") @db.Uuid\n  relationshipStage             RelationshipStage @default(STRANGER) @map(\"relationship_stage\")\n  rapportScore                  Int               @default(0) @map(\"rapport_score\")\n  lastInteractionAt             DateTime          @default(now()) @map(\"last_interaction_at\") @db.Timestamptz\n  lastStagePromotionAt          DateTime?         @map(\"last_stage_promotion_at\") @db.Timestamptz\n  sessionsCount                 Int               @default(0) @map(\"sessions_count\")\n  lastSessionAt                 DateTime?         @map(\"last_session_at\") @db.Timestamptz\n  currentSessionShortReplyCount Int               @default(0) @map(\"current_session_short_reply_count\")\n  createdAt                     DateTime          @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt                     DateTime          @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user     User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  aiFriend AiFriend @relation(fields: [aiFriendId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, aiFriendId])\n  @@index([relationshipStage])\n  @@index([lastInteractionAt])\n  @@map(\"relationships\")\n}\n\nmodel RetentionAttempt {\n  id                   String                @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId               String                @map(\"user_id\") @db.Uuid\n  aiFriendId           String                @map(\"ai_friend_id\") @db.Uuid\n  messageId            String?               @map(\"message_id\") @db.Uuid\n  notificationId       String?               @map(\"notification_id\") @db.Uuid\n  status               RetentionStatus       @default(SCHEDULED)\n  skipReason           String?               @map(\"skip_reason\") @db.VarChar(32)\n  deliveredAt          DateTime?             @map(\"delivered_at\") @db.Timestamptz\n  acknowledgedAt       DateTime?             @map(\"acknowledged_at\") @db.Timestamptz\n  acknowledgedBy       AcknowledgmentType?   @map(\"acknowledged_by\")\n  openerNorm           String?               @map(\"opener_norm\") @db.VarChar(256)\n  contentSelectionType ContentSelectionType? @map(\"content_selection_type\")\n  createdAt            DateTime              @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt            DateTime              @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user     User           @relation(fields: [userId], references: [id], onDelete: Cascade)\n  aiFriend AiFriend       @relation(fields: [aiFriendId], references: [id], onDelete: Cascade)\n  message  Message?       @relation(fields: [messageId], references: [id], onDelete: SetNull)\n  appOpens AppOpenEvent[]\n\n  @@index([userId, status])\n  @@index([userId, deliveredAt(sort: Desc)])\n  @@index([userId, createdAt(sort: Desc)])\n  @@map(\"retention_attempts\")\n}\n\nmodel RetentionBackoff {\n  id                String    @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId            String    @map(\"user_id\") @db.Uuid\n  aiFriendId        String    @map(\"ai_friend_id\") @db.Uuid\n  backoffMultiplier Int       @default(1) @map(\"backoff_multiplier\")\n  lastIgnoredAt     DateTime? @map(\"last_ignored_at\") @db.Timestamptz\n  createdAt         DateTime  @default(now()) @map(\"created_at\") @db.Timestamptz\n  updatedAt         DateTime  @updatedAt @map(\"updated_at\") @db.Timestamptz\n\n  user     User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  aiFriend AiFriend @relation(fields: [aiFriendId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, aiFriendId])\n  @@map(\"retention_backoff\")\n}\n\nmodel AppOpenEvent {\n  id                    String   @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId                String   @map(\"user_id\") @db.Uuid\n  openedNotificationId  String?  @map(\"opened_notification_id\") @db.Uuid\n  openedAt              DateTime @default(now()) @map(\"opened_at\") @db.Timestamptz\n  attributedRetentionId String?  @map(\"attributed_retention_id\") @db.Uuid\n  createdAt             DateTime @default(now()) @map(\"created_at\") @db.Timestamptz\n\n  user                User              @relation(fields: [userId], references: [id], onDelete: Cascade)\n  attributedRetention RetentionAttempt? @relation(fields: [attributedRetentionId], references: [id], onDelete: SetNull)\n\n  @@index([userId, openedAt(sort: Desc)])\n  @@map(\"app_open_events\")\n}\n\nmodel DecisionTrace {\n  id                      String   @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  traceId                 String   @map(\"trace_id\") @db.Uuid\n  messageId               String   @map(\"message_id\") @db.Uuid\n  userId                  String   @map(\"user_id\") @db.Uuid\n  routingDecision         Json     @map(\"routing_decision\") @db.JsonB\n  topicMatches            Json     @default(\"[]\") @map(\"topic_matches\") @db.JsonB\n  heuristicFlags          Json     @map(\"heuristic_flags\") @db.JsonB\n  memoriesLoadedCount     Int      @map(\"memories_loaded_count\")\n  memoriesExtractedCount  Int      @map(\"memories_extracted_count\")\n  relationshipDelta       Int      @map(\"relationship_delta\")\n  postprocessorViolations Json     @default(\"[]\") @map(\"postprocessor_violations\") @db.JsonB\n  rewriteAttempts         Int      @default(0) @map(\"rewrite_attempts\")\n  createdAt               DateTime @default(now()) @map(\"created_at\") @db.Timestamptz\n\n  message Message @relation(fields: [messageId], references: [id], onDelete: Cascade)\n  user    User    @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([traceId])\n  @@index([messageId])\n  @@index([userId, createdAt(sort: Desc)])\n  @@map(\"decision_traces\")\n}\n\nmodel PersonaAssignmentLog {\n  id         String   @id @default(dbgenerated(\"gen_random_uuid()\")) @db.Uuid\n  userId     String   @map(\"user_id\") @db.Uuid\n  aiFriendId String   @map(\"ai_friend_id\") @db.Uuid\n  comboKey   String   @map(\"combo_key\") @db.VarChar(128)\n  assignedAt DateTime @default(now()) @map(\"assigned_at\") @db.Timestamptz\n\n  user     User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  aiFriend AiFriend @relation(fields: [aiFriendId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, aiFriendId])\n  @@index([comboKey, assignedAt(sort: Desc)])\n  @@index([assignedAt])\n  @@map(\"persona_assignment_log\")\n}\n",
  "inlineSchemaHash": "c60335335f7f491a6b1cb34156b9910af7da089d9b18a31e9cf142b779848643",
  "copyEngine": true
}

const fs = require('fs')

config.dirname = __dirname
if (!fs.existsSync(path.join(__dirname, 'schema.prisma'))) {
  const alternativePaths = [
    "../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/.prisma/client",
    "../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/.prisma/client",
  ]
  
  const alternativePath = alternativePaths.find((altPath) => {
    return fs.existsSync(path.join(process.cwd(), altPath, 'schema.prisma'))
  }) ?? alternativePaths[0]

  config.dirname = path.join(process.cwd(), alternativePath)
  config.isBundled = true
}

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"dbName\":\"users\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"cognitoSub\",\"dbName\":\"cognito_sub\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"state\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"UserState\",\"default\":\"CREATED\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"pushToken\",\"dbName\":\"push_token\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"onboardingAnswers\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"UserOnboardingAnswers\",\"relationName\":\"UserToUserOnboardingAnswers\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"controls\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"UserControls\",\"relationName\":\"UserToUserControls\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriends\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"conversations\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Conversation\",\"relationName\":\"ConversationToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"messages\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Message\",\"relationName\":\"MessageToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"memories\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Memory\",\"relationName\":\"MemoryToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"relationships\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Relationship\",\"relationName\":\"RelationshipToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"retentionAttempts\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"RetentionAttempt\",\"relationName\":\"RetentionAttemptToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"retentionBackoff\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"RetentionBackoff\",\"relationName\":\"RetentionBackoffToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"appOpenEvents\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AppOpenEvent\",\"relationName\":\"AppOpenEventToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"decisionTraces\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DecisionTrace\",\"relationName\":\"DecisionTraceToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"personaAssignmentLogs\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"PersonaAssignmentLog\",\"relationName\":\"PersonaAssignmentLogToUser\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"UserOnboardingAnswers\":{\"dbName\":\"user_onboarding_answers\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"preferredName\",\"dbName\":\"preferred_name\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"ageBand\",\"dbName\":\"age_band\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AgeBand\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"countryOrRegion\",\"dbName\":\"country_or_region\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"occupationCategory\",\"dbName\":\"occupation_category\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"OccupationCategory\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"clientTimezone\",\"dbName\":\"client_timezone\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"UserToUserOnboardingAnswers\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"UserControls\":{\"dbName\":\"user_controls\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"proactiveMessagesEnabled\",\"dbName\":\"proactive_messages_enabled\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Boolean\",\"default\":true,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"muteUntil\",\"dbName\":\"mute_until\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"suppressedTopics\",\"dbName\":\"suppressed_topics\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"suppressedMemoryKeys\",\"dbName\":\"suppressed_memory_keys\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"UserToUserControls\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"AiFriend\":{\"dbName\":\"ai_friends\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":true,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"personaTemplateId\",\"dbName\":\"persona_template_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"personaSeed\",\"dbName\":\"persona_seed\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"stableStyleParams\",\"dbName\":\"stable_style_params\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"tabooSoftBounds\",\"dbName\":\"taboo_soft_bounds\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"assignedAt\",\"dbName\":\"assigned_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"AiFriendToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"personaTemplate\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"PersonaTemplate\",\"relationName\":\"AiFriendToPersonaTemplate\",\"relationFromFields\":[\"personaTemplateId\"],\"relationToFields\":[\"id\"],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"conversations\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Conversation\",\"relationName\":\"AiFriendToConversation\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"messages\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Message\",\"relationName\":\"AiFriendToMessage\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"memories\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Memory\",\"relationName\":\"AiFriendToMemory\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"relationships\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Relationship\",\"relationName\":\"AiFriendToRelationship\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"retentionAttempts\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"RetentionAttempt\",\"relationName\":\"AiFriendToRetentionAttempt\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"retentionBackoff\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"RetentionBackoff\",\"relationName\":\"AiFriendToRetentionBackoff\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"personaAssignmentLogs\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"PersonaAssignmentLog\",\"relationName\":\"AiFriendToPersonaAssignmentLog\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"PersonaTemplate\":{\"dbName\":\"persona_templates\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"coreArchetype\",\"dbName\":\"core_archetype\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"speechStyle\",\"dbName\":\"speech_style\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lexiconBias\",\"dbName\":\"lexicon_bias\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"humorMode\",\"dbName\":\"humor_mode\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"emotionalExpressionLevel\",\"dbName\":\"emotional_expression_level\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"tabooSoftBounds\",\"dbName\":\"taboo_soft_bounds\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"friendEnergy\",\"dbName\":\"friend_energy\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriends\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToPersonaTemplate\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"Conversation\":{\"dbName\":\"conversations\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriendId\",\"dbName\":\"ai_friend_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"ConversationToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriend\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToConversation\",\"relationFromFields\":[\"aiFriendId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"messages\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Message\",\"relationName\":\"ConversationToMessage\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[[\"userId\",\"aiFriendId\"]],\"uniqueIndexes\":[{\"name\":null,\"fields\":[\"userId\",\"aiFriendId\"]}],\"isGenerated\":false},\"Message\":{\"dbName\":\"messages\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"conversationId\",\"dbName\":\"conversation_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriendId\",\"dbName\":\"ai_friend_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"role\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"MessageRole\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"content\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"contentNorm\",\"dbName\":\"content_norm\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"MessageStatus\",\"default\":\"RECEIVED\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"source\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"MessageSource\",\"default\":\"chat\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"surfacedMemoryIds\",\"dbName\":\"surfaced_memory_ids\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"extractedMemoryCandidateIds\",\"dbName\":\"extracted_memory_candidate_ids\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"openerNorm\",\"dbName\":\"opener_norm\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"traceId\",\"dbName\":\"trace_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"conversation\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Conversation\",\"relationName\":\"ConversationToMessage\",\"relationFromFields\":[\"conversationId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"MessageToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriend\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToMessage\",\"relationFromFields\":[\"aiFriendId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"decisionTraces\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DecisionTrace\",\"relationName\":\"DecisionTraceToMessage\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"retentionAttempts\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"RetentionAttempt\",\"relationName\":\"MessageToRetentionAttempt\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"Memory\":{\"dbName\":\"memories\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriendId\",\"dbName\":\"ai_friend_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"type\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"MemoryType\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"memoryKey\",\"dbName\":\"memory_key\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"memoryValue\",\"dbName\":\"memory_value\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"confidence\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Decimal\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"MemoryStatus\",\"default\":\"ACTIVE\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"supersededBy\",\"dbName\":\"superseded_by\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"invalidReason\",\"dbName\":\"invalid_reason\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"sourceMessageIds\",\"dbName\":\"source_message_ids\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"embeddingJobId\",\"dbName\":\"embedding_job_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"qdrantPointId\",\"dbName\":\"qdrant_point_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lastConfirmedAt\",\"dbName\":\"last_confirmed_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"MemoryToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriend\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToMemory\",\"relationFromFields\":[\"aiFriendId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"supersedingMemory\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Memory\",\"relationName\":\"MemorySupersession\",\"relationFromFields\":[\"supersededBy\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"SetNull\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"supersededMemories\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Memory\",\"relationName\":\"MemorySupersession\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"Relationship\":{\"dbName\":\"relationships\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriendId\",\"dbName\":\"ai_friend_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"relationshipStage\",\"dbName\":\"relationship_stage\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"RelationshipStage\",\"default\":\"STRANGER\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"rapportScore\",\"dbName\":\"rapport_score\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Int\",\"default\":0,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lastInteractionAt\",\"dbName\":\"last_interaction_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lastStagePromotionAt\",\"dbName\":\"last_stage_promotion_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"sessionsCount\",\"dbName\":\"sessions_count\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Int\",\"default\":0,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lastSessionAt\",\"dbName\":\"last_session_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"currentSessionShortReplyCount\",\"dbName\":\"current_session_short_reply_count\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Int\",\"default\":0,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"RelationshipToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriend\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToRelationship\",\"relationFromFields\":[\"aiFriendId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[[\"userId\",\"aiFriendId\"]],\"uniqueIndexes\":[{\"name\":null,\"fields\":[\"userId\",\"aiFriendId\"]}],\"isGenerated\":false},\"RetentionAttempt\":{\"dbName\":\"retention_attempts\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriendId\",\"dbName\":\"ai_friend_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"messageId\",\"dbName\":\"message_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"notificationId\",\"dbName\":\"notification_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"status\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"RetentionStatus\",\"default\":\"SCHEDULED\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"skipReason\",\"dbName\":\"skip_reason\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"deliveredAt\",\"dbName\":\"delivered_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"acknowledgedAt\",\"dbName\":\"acknowledged_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"acknowledgedBy\",\"dbName\":\"acknowledged_by\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AcknowledgmentType\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"openerNorm\",\"dbName\":\"opener_norm\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"contentSelectionType\",\"dbName\":\"content_selection_type\",\"kind\":\"enum\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"ContentSelectionType\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"RetentionAttemptToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriend\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToRetentionAttempt\",\"relationFromFields\":[\"aiFriendId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"message\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Message\",\"relationName\":\"MessageToRetentionAttempt\",\"relationFromFields\":[\"messageId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"SetNull\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"appOpens\",\"kind\":\"object\",\"isList\":true,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AppOpenEvent\",\"relationName\":\"AppOpenEventToRetentionAttempt\",\"relationFromFields\":[],\"relationToFields\":[],\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"RetentionBackoff\":{\"dbName\":\"retention_backoff\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriendId\",\"dbName\":\"ai_friend_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"backoffMultiplier\",\"dbName\":\"backoff_multiplier\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Int\",\"default\":1,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"lastIgnoredAt\",\"dbName\":\"last_ignored_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"updatedAt\",\"dbName\":\"updated_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"DateTime\",\"isGenerated\":false,\"isUpdatedAt\":true},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"RetentionBackoffToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriend\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToRetentionBackoff\",\"relationFromFields\":[\"aiFriendId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[[\"userId\",\"aiFriendId\"]],\"uniqueIndexes\":[{\"name\":null,\"fields\":[\"userId\",\"aiFriendId\"]}],\"isGenerated\":false},\"AppOpenEvent\":{\"dbName\":\"app_open_events\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"openedNotificationId\",\"dbName\":\"opened_notification_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"openedAt\",\"dbName\":\"opened_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"attributedRetentionId\",\"dbName\":\"attributed_retention_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"AppOpenEventToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"attributedRetention\",\"kind\":\"object\",\"isList\":false,\"isRequired\":false,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"RetentionAttempt\",\"relationName\":\"AppOpenEventToRetentionAttempt\",\"relationFromFields\":[\"attributedRetentionId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"SetNull\",\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"DecisionTrace\":{\"dbName\":\"decision_traces\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"traceId\",\"dbName\":\"trace_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"messageId\",\"dbName\":\"message_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"routingDecision\",\"dbName\":\"routing_decision\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"topicMatches\",\"dbName\":\"topic_matches\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"heuristicFlags\",\"dbName\":\"heuristic_flags\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Json\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"memoriesLoadedCount\",\"dbName\":\"memories_loaded_count\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"memoriesExtractedCount\",\"dbName\":\"memories_extracted_count\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"relationshipDelta\",\"dbName\":\"relationship_delta\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Int\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"postprocessorViolations\",\"dbName\":\"postprocessor_violations\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Json\",\"default\":\"[]\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"rewriteAttempts\",\"dbName\":\"rewrite_attempts\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"Int\",\"default\":0,\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"createdAt\",\"dbName\":\"created_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"message\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"Message\",\"relationName\":\"DecisionTraceToMessage\",\"relationFromFields\":[\"messageId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"DecisionTraceToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[],\"uniqueIndexes\":[],\"isGenerated\":false},\"PersonaAssignmentLog\":{\"dbName\":\"persona_assignment_log\",\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":true,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"String\",\"default\":{\"name\":\"dbgenerated\",\"args\":[\"gen_random_uuid()\"]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"userId\",\"dbName\":\"user_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriendId\",\"dbName\":\"ai_friend_id\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":true,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"comboKey\",\"dbName\":\"combo_key\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"String\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"assignedAt\",\"dbName\":\"assigned_at\",\"kind\":\"scalar\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":true,\"type\":\"DateTime\",\"default\":{\"name\":\"now\",\"args\":[]},\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"user\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"User\",\"relationName\":\"PersonaAssignmentLogToUser\",\"relationFromFields\":[\"userId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false},{\"name\":\"aiFriend\",\"kind\":\"object\",\"isList\":false,\"isRequired\":true,\"isUnique\":false,\"isId\":false,\"isReadOnly\":false,\"hasDefaultValue\":false,\"type\":\"AiFriend\",\"relationName\":\"AiFriendToPersonaAssignmentLog\",\"relationFromFields\":[\"aiFriendId\"],\"relationToFields\":[\"id\"],\"relationOnDelete\":\"Cascade\",\"isGenerated\":false,\"isUpdatedAt\":false}],\"primaryKey\":null,\"uniqueFields\":[[\"userId\",\"aiFriendId\"]],\"uniqueIndexes\":[{\"name\":null,\"fields\":[\"userId\",\"aiFriendId\"]}],\"isGenerated\":false}},\"enums\":{\"UserState\":{\"values\":[{\"name\":\"CREATED\",\"dbName\":null},{\"name\":\"ONBOARDING\",\"dbName\":null},{\"name\":\"ACTIVE\",\"dbName\":null}],\"dbName\":null},\"AgeBand\":{\"values\":[{\"name\":\"AGE_13_17\",\"dbName\":\"13-17\"},{\"name\":\"AGE_18_24\",\"dbName\":\"18-24\"},{\"name\":\"AGE_25_34\",\"dbName\":\"25-34\"},{\"name\":\"AGE_35_44\",\"dbName\":\"35-44\"},{\"name\":\"AGE_45_PLUS\",\"dbName\":\"45+\"}],\"dbName\":null},\"OccupationCategory\":{\"values\":[{\"name\":\"student\",\"dbName\":null},{\"name\":\"working\",\"dbName\":null},{\"name\":\"between_jobs\",\"dbName\":null},{\"name\":\"other\",\"dbName\":null}],\"dbName\":null},\"MessageRole\":{\"values\":[{\"name\":\"user\",\"dbName\":null},{\"name\":\"assistant\",\"dbName\":null}],\"dbName\":null},\"MessageStatus\":{\"values\":[{\"name\":\"RECEIVED\",\"dbName\":null},{\"name\":\"PROCESSING\",\"dbName\":null},{\"name\":\"COMPLETED\",\"dbName\":null}],\"dbName\":null},\"MessageSource\":{\"values\":[{\"name\":\"chat\",\"dbName\":null},{\"name\":\"retention\",\"dbName\":null}],\"dbName\":null},\"MemoryType\":{\"values\":[{\"name\":\"FACT\",\"dbName\":null},{\"name\":\"PREFERENCE\",\"dbName\":null},{\"name\":\"RELATIONSHIP_EVENT\",\"dbName\":null},{\"name\":\"EMOTIONAL_PATTERN\",\"dbName\":null}],\"dbName\":null},\"MemoryStatus\":{\"values\":[{\"name\":\"ACTIVE\",\"dbName\":null},{\"name\":\"SUPERSEDED\",\"dbName\":null},{\"name\":\"INVALID\",\"dbName\":null}],\"dbName\":null},\"RelationshipStage\":{\"values\":[{\"name\":\"STRANGER\",\"dbName\":null},{\"name\":\"ACQUAINTANCE\",\"dbName\":null},{\"name\":\"FRIEND\",\"dbName\":null},{\"name\":\"CLOSE_FRIEND\",\"dbName\":null}],\"dbName\":null},\"RetentionStatus\":{\"values\":[{\"name\":\"SCHEDULED\",\"dbName\":null},{\"name\":\"DELIVERED\",\"dbName\":null},{\"name\":\"ACKNOWLEDGED\",\"dbName\":null},{\"name\":\"IGNORED\",\"dbName\":null},{\"name\":\"SKIPPED\",\"dbName\":null}],\"dbName\":null},\"AcknowledgmentType\":{\"values\":[{\"name\":\"REPLY\",\"dbName\":null},{\"name\":\"APP_OPEN_NOTIFICATION\",\"dbName\":null},{\"name\":\"APP_OPEN_INFERRED\",\"dbName\":null}],\"dbName\":null},\"ContentSelectionType\":{\"values\":[{\"name\":\"FOLLOW_UP\",\"dbName\":null},{\"name\":\"LIGHT_CONTEXT_NUDGE\",\"dbName\":null},{\"name\":\"GENERIC_SAFE\",\"dbName\":null}],\"dbName\":null}},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = undefined


const { warnEnvConflicts } = require('@prisma/client/runtime/library.js')

warnEnvConflicts({
    rootEnvPath: config.relativeEnvPaths.rootEnvPath && path.resolve(config.dirname, config.relativeEnvPaths.rootEnvPath),
    schemaEnvPath: config.relativeEnvPaths.schemaEnvPath && path.resolve(config.dirname, config.relativeEnvPaths.schemaEnvPath)
})

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

// file annotations for bundling tools to include these files
path.join(__dirname, "query_engine-windows.dll.node");
path.join(process.cwd(), "../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/.prisma/client/query_engine-windows.dll.node")
// file annotations for bundling tools to include these files
path.join(__dirname, "schema.prisma");
path.join(process.cwd(), "../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/.prisma/client/schema.prisma")
